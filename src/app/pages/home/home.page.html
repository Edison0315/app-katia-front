<ion-content class="ion-padding">

  <h3>Mis metricas de salud</h3>
  
  <ion-row>
    <ion-col size="6" *ngFor="let metric of metrics; let i = index">

      <ion-card class="main-card-metrics">
        <ion-card-header>
          <ion-card-subtitle>
            <a href="javascript:;" (click)="showDetail(i)">{{ metric.title }}</a>
          </ion-card-subtitle>

          <ion-card-title>
            <ng-container *ngIf="metric.checked === 0">
              <h5>
                Controlado
                <ion-icon class="icon-check" name="thumbs-up-outline" color="success"></ion-icon>  
              </h5>
            </ng-container>
            
            <ng-container *ngIf="metric.checked === 1">
              <h5>
                Descontrolado
                <ion-icon name="thumbs-down-outline" color="danger"></ion-icon>  
              </h5>
            </ng-container>

          </ion-card-title>
        </ion-card-header>
      </ion-card>
    </ion-col>

  </ion-row>

  <ion-modal [isOpen]="isModalOpen">
    <ng-template>

      <ion-header>
        <ion-toolbar>
          <ion-title>{{ metric_selected.title }}</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="closeModal()">Close</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content class="ion-padding">
        
        <ion-card>

          <img src="{{ metric_util_selected.url }}" alt="Blood">

          <ion-card-header>

            <ng-container *ngIf="metric_selected.value">
              <ion-card-title>Mi métrica actual: {{ metric_selected.value }} </ion-card-title>
            </ng-container>

            <ng-container *ngIf="!metric_selected.value">
              <ion-card-title>Mi métrica actual: {{ (!metric_selected.checked)? 'Controlado' : 'Descontrolado' }} </ion-card-title>
            </ng-container>

            <ng-container *ngIf="metric_selected.value">
              <ion-card-subtitle>
                <ion-icon name="disc-outline"></ion-icon>
                Meta: {{ metric_selected.goal }}
              </ion-card-subtitle>
              
              <ion-card-subtitle>
                <ion-icon name="calendar-outline"></ion-icon>
                Fecha de toma: {{ metric_selected.date }}
              </ion-card-subtitle>
            </ng-container>


          </ion-card-header>
      
        </ion-card>

      </ion-content>
    </ng-template>
  </ion-modal>

  <h3>Mis datos clinicos</h3>

  <ion-row>

    <ion-col size="3">
      <ion-button href="/medicines" color="default">
        <ion-icon class="icon-check" name="reader-outline" color="success"></ion-icon>  
      </ion-button>
      <p> Medicinas </p>
    </ion-col>

    <ion-col size="3">
      <ion-button href="/comorbidities" color="default">
        <ion-icon class="icon-check" name="fitness-outline" color="success"></ion-icon>  
      </ion-button>
      <p> Comorbilidades </p>
    </ion-col>

    <ion-col size="3">
      <ion-button href="/alerts" color="default">
        <ion-icon class="icon-check" name="warning-outline" color="success"></ion-icon>  
      </ion-button>
      <p> Alertas </p>
    </ion-col>

    <ion-col size="3">
      <ion-button href="/files" color="default">
        <ion-icon class="icon-check" name="attach-outline" color="success"></ion-icon>  
      </ion-button>
      <p> Adjuntos </p>
    </ion-col>

  </ion-row>

</ion-content>
